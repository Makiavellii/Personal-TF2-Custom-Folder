// Unexplained crashes? Set mat_queue_mode to '-1'.
// ----------------------------------------------------------------------------
// jeebs maxframes config
// v3.3 | 08 May 2021
// ----------------------------------------------------------------------------
// Problems or questions? Contact me at jbstr#1999 on Discord.
// ----------------------------------------------------------------------------
// Read this:
// ----------------------------------------------------------------------------
// Designed to get you a large performance boost.
// Config inspired by m0re's configs, chris' configs, comanglia's configs, rhaspody's config and mastercomfig.
// Config written in refrence to mastercom's documentation.
// Install to > Steam\steamapps\common\Team Fortress 2\tf\custom\config\cfg
// Alternatively install to > Steam\steamapps\common\Team Fortress 2\tf\cfg
// ----------------------------------------------------------------------------
// Recommended launch options:
// ----------------------------------------------------------------------------
// Right click TF2 in Steam > Properties > Launch Options
// -full                    :: Force fullscreen mode.
// -width                   :: Set your resolution width manually.
// -height                  :: Set your resolution height manually.
// -freq                    :: Set your monitor refresh rate manually for tf2.
// -console                 :: Open console on game startup.
// -novid                   :: Skip Valve into video.
// -nojoy                   :: Disable joystick to reduce memory usage.
// -softparticlesdefaultoff :: Disable scene depth blending for particles and sprites.
// -reuse                   :: Allow network sockets to be reused when busy. Increases network performance.
// -primarysound            :: Always use a direct hardware sound buffer (only works on 2 speakers or headphones), may cause sounds to not play. Reduces stuttering.
// -snoforceformat          :: Do not set the hardware sound buffer format, may cause sounds to not play. Reduces stuttering and solves some minor issues with -primarysound.
// -nosteamcontroller       :: Disables Steam controller system. Faster startup, less memory usage and less input conflictions.
// -nohltv                  :: Disable SourceTV hosting, faster startup and less memory usage.
// -particles 1             :: Limits beam count to the minimum for 512.
// -nostartupsound          :: Disable game music on main menu.
// -r_emulate_gl            :: MIGHT CAUSE CRASHES ON MAP CHANGE. Enables OpenGL on Windows. FPS boost on most GPUs and can increase stability on older hardware with newer DX levels.
// -dxlevel                 :: Sets your DirectX level. FPS boost on most GPUs. No boost on others.
// NOTE: Remove -dxlevel from your launch options after first boot for better and more reliable alt-tabbing.
// ----------------------------------------------------------------------------
// Niche launch options:
// ----------------------------------------------------------------------------
// -nocrashdialog           :: Supress some 'memory could not be read' unhandled errors.
// -32bit                   :: Force the engine to start in 32-bit mode. Only useful on 64-bit operating systems.
// -dev                     :: Enables developer mode. Also disables the automatic loading of main menu backgrounds and stops the quit dialog from appearing on exit.
// -nouserclip              :: Use software clipping instead of hardware user clip planes. FPS increase or decrease depending on your CPU+GPU.
// -nosound                 :: Disable all sounds. No FPS boost unless your sound drivers are slow.
// -small                   :: Allow for resolutions smaller than 640x480.
// -nod3d9ex                :: Fix broken mumble overlay. Can affect alt-tabbing speed.
// ----------------------------------------------------------------------------
// To uninstall:
// ----------------------------------------------------------------------------
// Delete tf/cfg (and delete this config file from your custom folder if you have it installed there) and verify your game files.
// Now launch tf2 with the following launch options:
// -novid -autoconfig -default +host_writeconfig config.cfg full +mat_savechanges +quit
// The game will launch and exit. Afterwards, remove these launch options.
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// sv_cheats
// ----------------------------------------------------------------------------
sv_cheats 1

// ----------------------------------------------------------------------------
// Net settings
// ----------------------------------------------------------------------------
cl_interp .030303
cl_interp_ratio 2
cl_cmdrate 66
cl_updaterate 66
rate 196608
net_maxpacketdrop 0
cl_timeout 60
cl_smoothtime .05
hud_escort_interp .1
net_chokeloop 1
sv_lan 1
cl_pred_optimize 2
cl_lagcompensation 1
cl_predictweapons 1
cl_downloadfilter mapsonly
// forward string cmds to server for lower latency
// courtesy of mastercoms
alias resetclass "cmd resetclass"
alias menuopen "cmd menuopen"
alias menuclosed "cmd menuclosed"
alias stop_taunt "cmd stop_taunt"
alias td_buyback "cmd td_buyback"
alias arena_changeclass "cmd arena_changeclass"
alias extendfreeze "cmd extendfreeze"
alias show_motd "cmd show_motd"
alias showroundinfo "cmd showroundinfo"
alias autoteam "cmd autoteam"
alias boo "cmd boo"
alias done_viewing_loot "cmd done_viewing_loot"
alias spectate "cmd spectate"
alias demorestart "cmd demorestart"
alias fade "cmd fade"
alias nextmap "cmd nextmap"
alias timeleft "cmd timeleft"
alias ignoremsg "cmd ignoremsg"
alias commentary_finishnode "cmd commentary_finishnode"
alias kill "cmd kill"
alias explode "cmd explode"

// ----------------------------------------------------------------------------
// LOD
// ----------------------------------------------------------------------------
r_rootlod 2
r_lod -1

// ----------------------------------------------------------------------------
// Lighting
// ----------------------------------------------------------------------------
mat_filterlightmaps 0
r_ambientboost 0
r_lightaverage 0
r_dynamic 0
r_maxdlights 0
r_worldlightmin 999999
r_lightcache_zbuffercache 0
r_worldlights 0
mat_disable_lightwarp 1
mat_reducefillrate 1
r_rimlight 0
mat_bumpmap 0
mat_specular 0
r_pixelvisibility_partial 0
building_cubemaps 1
mat_phong 0

// ----------------------------------------------------------------------------
// Shadows
// ----------------------------------------------------------------------------

// Disable shadows
r_shadows 0
r_shadowrendertotexture 0
cl_blobbyshadows 1
r_shadowmaxrendered 0
nb_shadow_dist 0
r_flashlightdepthtexture 0
r_flashlightrender 0
r_flashlightmodels 0
r_flashlightculldepth 0
r_flashlightscissor 0

// Enable Shadows
//r_shadows 1
//r_shadowrendertotexture 1
//cl_blobbyshadows 0
//r_shadowmaxrendered 7
//nb_shadow_dist 100
//r_shadowlod -2

// ----------------------------------------------------------------------------
// Effects
// ----------------------------------------------------------------------------
tracer_extra 0
r_drawtracers_firstperson 1
cl_show_splashes 0
cl_ejectbrass 0
cl_muzzleflash_dlight_1st 0
cl_drawmonitors 0
muzzleflash_light 0
cl_fasttempentcollision 1000000

// ----------------------------------------------------------------------------
// Water
// ----------------------------------------------------------------------------
r_cheapwaterstart 0
r_cheapwaterend .1
r_WaterDrawReflection 0
r_waterforceexpensive 0
r_waterforcereflectentities 0
r_WaterDrawRefraction 0

// ----------------------------------------------------------------------------
// Particles
// ----------------------------------------------------------------------------
tf_impactwatertimeenable 1
cl_particle_batch_mode 1
tf_particles_disable_weather 1
mat_reduceparticles 1
cl_new_impact_effects 0
r_drawflecks 0
fx_drawimpactdebris 0
fx_drawimpactdust 0
fx_drawmetalspark 0
cl_particle_retire_cost 0

// ----------------------------------------------------------------------------
// Post processing
// ----------------------------------------------------------------------------
mat_hdr_level 0
mat_colorcorrection 0
mat_colcorrection_disableentities 1
r_bloomtintr .333
r_bloomtintg .333
r_bloomtintb .333
r_bloomtintexponent 1
mat_postprocess_x 1

// ----------------------------------------------------------------------------
// Pyrovision
// ----------------------------------------------------------------------------
pyro_dof 0
pyro_vignette 0

// ----------------------------------------------------------------------------
// Motion blur
// ----------------------------------------------------------------------------
mat_motion_blur_enabled 0
mat_motion_blur_forward_enabled 0
mat_motion_blur_strength 0

// ----------------------------------------------------------------------------
// Anti aliasing
// ----------------------------------------------------------------------------
mat_software_aa_strength 0
mat_software_aa_strength_vgui 0
mat_alphacoverage 0
mat_antialias 1

// ----------------------------------------------------------------------------
// Texture filtering
// ----------------------------------------------------------------------------
mat_forceaniso 1
mat_trilinear 0

// ----------------------------------------------------------------------------
// Characters
// ----------------------------------------------------------------------------
r_flex 0
flex_rules 0
anim_3wayblend 0
r_teeth 0
flex_smooth 0
r_eyes 0
r_eyemove 0
tf_clientsideeye_lookats 0
blink_duration 0
mp_usehwmmodels -1
mp_usehwmvcds -1
phonemefilter .001
phonemedelay -30
phonemesnap 0

// ----------------------------------------------------------------------------
// Decals
// ----------------------------------------------------------------------------
r_decals 9
mp_decals 9
r_drawbatchdecals 0
r_decal_cullsize 256
r_decal_cover_count 1
r_decal_overlap_area .4
r_decal_overlap_count 0

// ----------------------------------------------------------------------------
// Model decals
// ----------------------------------------------------------------------------
r_drawmodeldecals 0
r_maxmodeldecal 0

// ----------------------------------------------------------------------------
// Map decals
// ----------------------------------------------------------------------------
r_renderoverlayfragment 0

// ----------------------------------------------------------------------------
// Sprays
// ----------------------------------------------------------------------------
cl_allowdownload 0
cl_allowupload 0
r_spray_lifetime 0
cl_playerspraydisable 1

// ----------------------------------------------------------------------------
// Gibs
// ----------------------------------------------------------------------------

// Disable gibs
cl_burninggibs 0
props_break_max_pieces 0
tf_playergib 0
violence_hgibs 0
violence_hblood 0
violence_agibs 0
violence_ablood 0

// Enable gibs
//cl_phys_props_enable 1
//cl_physprops_max 128
//props_break_max_pieces -1
//r_propsmaxdist 1000
//violence_agibs 1
//violence_hgibs 1

// ----------------------------------------------------------------------------
// Props
// ----------------------------------------------------------------------------
r_PhysPropStaticLighting 1
r_decalstaticprops 0
cl_phys_props_enable 0
r_staticprop_lod 7
r_propsmaxdist 0
lod_TransitionDist -1
r_drawdetailprops 0
cl_detaildist 1
cl_detailfade 0

// ----------------------------------------------------------------------------
// Ragdolls
// ----------------------------------------------------------------------------

// Disable ragdolls
cl_ragdoll_fade_time -3
cl_ragdoll_forcefade 1
cl_ragdoll_physics_enable 1
cl_ragdoll_collide 0
ragdoll_sleepaftertime 0
g_ragdoll_fadespeed 0
g_ragdoll_lvfadespeed 0

// Enable ragdolls
//cl_ragdoll_fade_time 15
//cl_ragdoll_forcefade 0
//cl_ragdoll_physics_enable 1
//g_ragdoll_fadespeed 600
//g_ragdoll_lvfadespeed 100
//ragdoll_sleepaftertime 5.0f

// ----------------------------------------------------------------------------
// 3D sky
// ----------------------------------------------------------------------------
r_3dsky 0

// ----------------------------------------------------------------------------
// Jigglebones
// ----------------------------------------------------------------------------
cl_jiggle_bone_framerate_cutoff 0

// ----------------------------------------------------------------------------
// Sheen speed
// ----------------------------------------------------------------------------
tf_sheen_framerate 0

// ----------------------------------------------------------------------------
// Sheen alpha
// ----------------------------------------------------------------------------
tf_sheen_alpha_firstperson 0

// ----------------------------------------------------------------------------
// Textures
// ----------------------------------------------------------------------------
mat_filtertextures 0
mat_picmip 2
mat_disable_fancy_blending 1

// ----------------------------------------------------------------------------
// Ropes
// ----------------------------------------------------------------------------
r_drawropes 0
rope_rendersolid 0
r_ropetranslucent 0
rope_smooth 0
rope_subdiv 0
rope_collide 0
rope_wind_dist 0

// ----------------------------------------------------------------------------
// OpenGL
// ----------------------------------------------------------------------------
gl_pow2_tempmem 1
mat_texture_reload_frame_swap_workaround 0
gl_mtgflush_at_tof 1
gl_debug_output 0
gl_magnify_resolve_mode 1
gl_batch_tex_creates 1
gl_batch_tex_destroys 1
gl_radar7954721_workaround_mixed 0
gl_amd_occlusion_workaround 0
gl_paircache_rows_lg2 14

// ----------------------------------------------------------------------------
// Sound
// ----------------------------------------------------------------------------
snd_disable_mixer_duck 1
snd_pitchquality 0
dsp_slow_cpu 1
snd_spatialize_roundrobin 3
dsp_room 0
dsp_speaker 0
dsp_water 0
dsp_spatial 0
snd_defer_trace 1
dsp_enhance_stereo 0
snd_mixahead .05
snd_delay_sound_shift .001
snd_legacy_surround 0
snd_noextraupdate 1
snd_async_spew_blocking 0

// ----------------------------------------------------------------------------
// Optimization - Do not touch anything below this point.
// ----------------------------------------------------------------------------
mat_queue_mode 2
host_thread_mode 1
mat_vsync 0
engine_no_focus_sleep 1
r_fastzreject 1
r_norefresh 1
fast_fogvolume 1
mod_offline_hdr_switch 1
mat_forcemanagedtextureintohardware 0
r_hunkalloclightmaps 0
mat_requires_rt_alloc_first 0
sys_minidumpspewlines 0
cl_localnetworkbackdoor 0
sv_logdownloadlist 0
mat_forcehardwaresync 1
mat_managedtextures 1
r_occlusion 0
r_occludeemaxarea 1
r_occluderminarea 10
mat_tonemapping_occlusion_use_stencil 0


// ----------------------------------------------------------------------------
// Memory
// ----------------------------------------------------------------------------
mem_max_heapsize_dedicated 128
lzma_persistent_buffer 1
cl_always_flush_models 0
mat_levelflush 1
sv_forcepreload 0
mat_bufferprimitives 1

// ----------------------------------------------------------------------------
// File I/O
// ----------------------------------------------------------------------------
net_maxfilesize 64
filesystem_buffer_size 32768
filesystem_max_stdio_read 64
filesystem_native 1
filesystem_unbuffered_io 1

// ----------------------------------------------------------------------------
// Model cache
// ----------------------------------------------------------------------------
mod_load_anims_async 0
mod_load_mesh_async 0
mod_load_vcollide_async 0
mod_lock_mdls_on_load 0
mod_forcetouchdata 1
mod_touchalldata 1
mod_forcedata 1

// ----------------------------------------------------------------------------
// Threading
// ----------------------------------------------------------------------------
cl_setupallbones 0
cl_threaded_client_leaf_system 1
r_queued_decals 0
r_queued_ropes 1
r_queued_post_processing 0
r_threaded_client_shadow_manager 1
r_threaded_particles 1
r_threaded_renderables 1
studio_queue_mode 1

// ----------------------------------------------------------------------------
// Misc.
// ----------------------------------------------------------------------------
tf_quest_map_tuner_wobble_magnitude 0
tf_item_inspect_model_auto_spin 0
tf_hud_target_id_show_avatars 0
tf_dashboard_slide_time 0
cl_crosshairalpha 255
cl_hud_killstreak_display_time 0
tf_colorblindassist 0
con_nprint_bgalpha 0
tf_hud_target_id_alpha 255
tf_chat_popup_hold_time .1
con_drawnotify 0
tf_time_loading_item_panels .0001

// ----------------------------------------------------------------------------
// Command block
// ----------------------------------------------------------------------------
alias mat_antialias "echo mat_antialias blocked. Prevented material system reload."

// ----------------------------------------------------------------------------
// Write to host config
// ----------------------------------------------------------------------------
host_writeconfig
mat_savechanges

// ----------------------------------------------------------------------------
// Print to console
// ----------------------------------------------------------------------------
clear
mem_compact
echo "-------------------------------------"
echo "    jeebs maxframes config loaded    "
echo "-------------------------------------"
echo "Please direct all comments/queries to"
echo "jbstr#1999 on Discord."

// YOU DESERVE ICE-CREAM
//             -/oossss/-````
//         -ohNmddhhhhhmNNNmNNh/`
//       .yNmyso++++++oooooooshNm:
//     /NNyssoossssssoooosooo+omM/
//     +Mmsssssssssssssssssssso+sNN.
//     NNssssssssssssssssssssssoshMo
//     MNsssyssssssssssssssssssssyMy
//     hMyssdhsshyssssssssssssydmNMmo-
//     :NMdhhhhyhdhhhysssssssshdhhhhmNo
//  .ymmddmdsyyhysyyssssssssssyhyhhsmM.
//  `mNyhhhyhsyhhssssssssyhyssssssyhsmM.
//  .MmyhysdMhyhssyyyssyNmdMdshdddhhdMy
//   +dmmdmNNNddmmddmmmmd/oMdyMdosMNo:`
//     .:hMy/+oso/:-:++/--dMyyMy-yM+
//       `dN/-:++:--:++/--NNyhMy+My
//         .mN///:+/:+/:+/-smmmd+Nm`
//         .mm++:-:::----:-::+:hM:
//          -Nm+/-++/---/++:/+yMo
//           :Nd:/+:+/-/+://:+Nh
//            /Mh//--::::-:+:mN.
//             oMy+/-/+/--+/hM/
//              sMs-/+:/+:-oMs
//               yMo//--/:/Nd`
//               `hMo+::+/mN.
//                `dN+-:/yM+
//                 `mN:-+My
//                  .mNsNd`
//                   `+o/
//                    ``

// DATA FOR ICE-CREAM INSTALLER UPDATER
// JEEBS MAXFRAMES CONFIG
// VERSION 3.3